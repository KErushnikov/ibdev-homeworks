# Домашнее задание к занятию «1.1. Контейнеризация (Docker)»

В качестве результата отправьте ответы на вопросы в личном кабинете студента на сайте [netology.ru](https://netology.ru).

## Предисловие

ДЗ будет представлять собой лабораторные работы, в которых вы по инструкциям выполните определённые шаги.

Важно: перед выполнением ДЗ обязательно ознакомьтесь с инструкцией [по установке Docker](installation.md).

## Задание №1. Создание Docker Image

Задание описано [в отдельном документе](dockerfile.md).

В качестве результата работы отправьте:
1. Скриншот вывода команды `docker image ls`.
1. Скриншот вывода команды `docker container run ibdevapp`.

## Ответ:

[Скриншот](../01_docker/Task_01.Dockerfile/Screenshot1.JPG)

## Задание №2. Multistage Build

Задание описано [в отдельном документе](multistage.md).

В качестве результата работы отправьте:
1. Скриншот вывода команды `docker image ls`.
1. Скриншот вывода команды `docker-compose up --build`.

## Ответ:

1. [Скриншот](../01_docker/Task_02.Multistage_building/Screenshot1.JPG) вывода команды `docker image ls`.
1. [Скриншот](../01_docker/Task_02.Multistage_building/Screenshot2.JPG) вывода команды `docker-compose up --build`.
1. [Скриншот](../01_docker/Task_02.Multistage_building/Screenshot3.JPG) вывода localhost:9999

## Задание №3. CIS Benchmarks*

**Важно**: эта задача необязательная, её (не)выполнение не влияет на получение зачёта по ДЗ.

Изучите CIS Benchmarks для Docker версии 1.2.0 (раздел 4). Попробуйте проанализировать этот раздел и предположить, какие рекомендации мы нарушили при построении образа из задачи №2.

Нас интересуют конкретно:
1. Пункт 4.1. Из рекомендаций по этому пункту следует, что неплохой практикой является запуск контейнера из под пользователя без root-прав, что можно реализовать с помощью специальной директивы USER в Dockerfile или с помощью изменения, например, команды GO на GOSU, используемые в директивах CMD или ENTRYPOINT. Данная рекомендация не учтена при построении образа.

2. Пункт 4.3. Из рекомендаций по этому пункту следует, что контейнеры рекомендуется делать минимального размера и они не должны содержать лишних сервисов и программных пакетов, что может создать простор в эксплуатации их уязвимостей. Должны быть установлены лишь те пакеты, которые нужны для функционирования конкретного приложения. В ходе лабораторного исследования мне удалось обнаружить запущенную службу ftp на localhost, которая в данном случае - лишняя и, следуя рекомендациям, ее следует отключить. По данному пункту есть сомнения, и если мои заключения не верны, хотелось бы получить обратную связь, поскольку тема очень интересна.

* Примечание: остальные пункты мы будем обсуждать на следующих лекциях.