# Домашнее задание к занятию «1.3. Системы контроля версий и CI/CD»

В качестве результата отправьте ответы на вопросы в личном кабинете студента на сайте [netology.ru](https://netology.ru).

## Предисловие

Данные ДЗ будут представлять собой лабораторные работы, в рамках которых вы по инструкциям выполните определённые шаги.

## Задание truffleHog

Есть замечательный инструмент, который называется [truffleHog](https://github.com/dxa4481/truffleHog). Он умеет искать по всей истории вашего проекта «секреты». Конечно же, если ваш проект использует git.

В этой лабораторной работе мы попробуем его в использовании на более-менее реалистичном примере, чтобы вы увидели, что не всё так гладко и достаточно часто бывает много ложных срабатываний, которые приходится «разгребать». Если вы просто отдадите «простыню» логов разработчикам, чтобы они сами разбирались — ничего хорошего из этого не выйдет.

P. S. В качестве дополнения поищите, как можно обойтись без Python с помощью `nc`.

### Результаты выполнения

Проанализировав лог работы сервиса truffleHog удалось выявить несколько "секретов":
* Приватный и публичные RSA ключи шифрования, которые предположительно используются для обновления облачного репозитория из локального, что может быть использовано злоумышленником для добавления в основную ветку "вредоносного кода".
![](/03_cicd/pic/secret_keys.JPG)
* Логин и хешированый пароль пользователей контейнера с базой данных sql. Хоть пароль и хэширован, он уязвим к атаке грубой силой. Так же можно заметить, что пароль от пользователя Admin и User одинаковый, что так же является слабостью.
![](/03_cicd/pic/secret_login.JPG)

### Дополнительно

Можете дополнительно ознакомиться со сравнением коммерческого сервиса [GitGuardian c truffleHog](https://www.gitguardian.com/gitguardian-vs-trufflehog-alternatives).

## Задание BFG Repo-Cleaner

Для удаления «чувствительных данных» существуют специальные инструменты. [Самые простые](https://docs.github.com/en/github/authenticating-to-github/removing-sensitive-data-from-a-repository):
1. BFG Repo-Cleaner.
1. Встроенная в `git` команда `filter-branch`.

### Результаты выполнения

Проанализировав лог работы сервиса truffleHog после работы инструмента BFG Repo-Cleaner наблюдаем, что инструмент "вычистил" приватный и публичный ключи, но логин и пароль пользовтелей остались:
![](/03_cicd/pic/secret_fix.JPG)